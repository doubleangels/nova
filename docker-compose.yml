services:
  nova:
    image: ghcr.io/doubleangels/nova:latest
    container_name: nova
    restart: unless-stopped
    cap_drop:
      - ALL
    cap_add:
      - CHOWN
      - SETGID
      - SETUID
    security_opt:
      - no-new-privileges:true
    read_only: true
    environment:
      # Base embed color in hex format (e.g., CD41FF or #CD41FF)
      - BASE_EMBED_COLOR=${BASE_EMBED_COLOR}
      # Bot activity status text
      - BOT_STATUS=${BOT_STATUS}
      # Bot activity type (playing, watching, listening, streaming, competing)
      - BOT_STATUS_TYPE=${BOT_STATUS_TYPE}
      # Authentication token for your Discord bot
      - DISCORD_BOT_TOKEN=${DISCORD_BOT_TOKEN}
      # Discord role ID to assign alongside custom roles
      - GIVE_PERMS_FREN_ROLE_ID=${GIVE_PERMS_FREN_ROLE_ID}
      # Discord role ID that new roles should be positioned above
      - GIVE_PERMS_POSITION_ABOVE_ROLE_ID=${GIVE_PERMS_POSITION_ABOVE_ROLE_ID}
      # API key for Google services
      - GOOGLE_API_KEY=${GOOGLE_API_KEY}
      # Name of the guild/server
      - GUILD_NAME=${GUILD_NAME}
      # Google Custom Search Engine ID for image searches
      - IMAGE_SEARCH_ENGINE_ID=${IMAGE_SEARCH_ENGINE_ID}
      # Determines the verbosity of logs (error, warn, info, debug)
      - LOG_LEVEL=${LOG_LEVEL:-info}
      # Client ID for MyAnimeList API
      - MAL_CLIENT_ID=${MAL_CLIENT_ID}
      # API key for Open Movie Database
      - OMDB_API_KEY=${OMDB_API_KEY}
      # API key for PirateWeather forecast service
      - PIRATEWEATHER_API_KEY=${PIRATEWEATHER_API_KEY}
      # Client ID for Reddit API
      - REDDIT_CLIENT_ID=${REDDIT_CLIENT_ID}
      # Client Secret for Reddit API
      - REDDIT_CLIENT_SECRET=${REDDIT_CLIENT_SECRET}
      # Reddit password for API authentication
      - REDDIT_PASSWORD=${REDDIT_PASSWORD}
      # Reddit username for API authentication
      - REDDIT_USERNAME=${REDDIT_USERNAME}
      # Google Custom Search Engine ID for web searches
      - SEARCH_ENGINE_ID=${SEARCH_ENGINE_ID}
      # Server invite URL for kick messages
      - SERVER_INVITE_URL=${SERVER_INVITE_URL}
      # Client ID for Spotify API
      - SPOTIFY_CLIENT_ID=${SPOTIFY_CLIENT_ID}
      # Client Secret for Spotify API
      - SPOTIFY_CLIENT_SECRET=${SPOTIFY_CLIENT_SECRET}
    volumes:
      - ./data:/app/data:rw,noexec,nosuid
    tmpfs:
      - /tmp

networks:
  default:
    name: discord

